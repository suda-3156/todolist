
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User_info {
  user_id       String    @id
  name          String    @unique
  email         String    @unique
  password      String
  role          Role
  last_login    DateTime
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  todolists     User_todolist[]
  notes         User_note[]
}

enum Role {
  USER
  ADMIN
  SUPER_ADMIN
}

model User_todolist {
  todolist_id     String    @id
  todolist_title  String    @default("No title")
  style           Int       @default(0)
  user            User_info @relation(fields: [user_id], references: [user_id], onDelete: Restrict, onUpdate: Restrict)
  user_id         String
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  todos           Todolist_todo[]
}

model Todolist_todo {
  todo_id         String    @id
  todo_title      String    @default("No title")
  todolist        User_todolist @relation(fields: [todolist_id], references: [todolist_id], onDelete: Restrict, onUpdate: Restrict)
  todolist_id     String
  completed       Boolean   @default(false)
  deleted         Boolean   @default(false)
  style           Int       @default(0)
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

model User_note {
  note_id         String    @id
  note_title      String    @default("No title")
  user            User_info @relation(fields: [user_id], references: [user_id], onDelete: Restrict, onUpdate: Restrict)
  user_id         String
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}
